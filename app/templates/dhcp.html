{% extends "base.html" %}

{% block content %}
<h1 class="text-3xl font-bold mb-8">DHCP Server Configuration</h1>

<div class="bg-white p-6 rounded-lg shadow-md">
    <h2 class="text-xl font-semibold mb-4">LAN Interface Settings</h2>
    
    <form method="POST">
        {% for iface in lan_interfaces %}
        <div class="mb-6 border-b pb-4">
            <h3 class="font-bold text-lg mb-2">{{ iface.name }}</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                    <label class="block text-gray-700 text-sm font-bold mb-2">Enable DHCP</label>
                    <input type="checkbox" name="enable_{{ iface.name }}" {% if iface.dhcp_enabled %}checked{% endif %} class="form-checkbox h-5 w-5 text-blue-600">
                </div>
                <div>
                    <label class="block text-gray-700 text-sm font-bold mb-2">Range Start</label>
                    <input type="text" name="start_{{ iface.name }}" value="{{ iface.range_start }}" class="border rounded px-2 py-1 w-full" placeholder="e.g. 192.168.1.100">
                </div>
                <div>
                    <label class="block text-gray-700 text-sm font-bold mb-2">Range End</label>
                    <input type="text" name="end_{{ iface.name }}" value="{{ iface.range_end }}" class="border rounded px-2 py-1 w-full" placeholder="e.g. 192.168.1.200">
                </div>
                <div>
                    <label class="block text-gray-700 text-sm font-bold mb-2">Lease Time (seconds)</label>
                    <input type="number" name="lease_{{ iface.name }}" value="{{ iface.lease_time }}" class="border rounded px-2 py-1 w-full" placeholder="Default: 86400">
                </div>
            </div>
        </div>
        {% endfor %}

        {% if not lan_interfaces %}
        <div class="bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-4" role="alert">
            <p>No interfaces configured as LAN. Go to <a href="/network/config" class="underline">Network Config</a> to assign LAN roles.</p>
        </div>
        {% endif %}

        <div class="mt-6">
            <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Save DHCP Settings</button>
        </div>
    </form>
</div>
{% endblock %}
